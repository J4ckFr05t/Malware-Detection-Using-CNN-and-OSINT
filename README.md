****Malware Detection using Machine Learning and OSINT****

****Overview****

The goal of this project is to build a GUI application which accepts an input file and scans it for maliciousness. The front end is developed
using ElectronJS and at the backend CNN and OSINT is used to detect maliciousness of the input file.

****Methodology****

The file is given to the application as input. The SHA1 and MD5 hash values of the file is generated which is then used to perform OSINT analysis. The maliciousness of the file is determined using these hash values with the VirusTotal API. If it returns that the file is maliciousness, the result is displayed, else the file is converted into its image format and then is given as input to the CNN model. Following this methodology, we are able to to reduce the time constraint as well as have more accurate results. 

****DATASET****

The Dataset is custom made with help of Dataset like Malimg Dataset. It contains a huge number of malicious as well as benign files of the format such as *.exe,, *.bat, *.msi, *.jar, *.doc, etc

Dataset Link : https://drive.google.com/file/d/1_5sIsmvT9L98s6la-MWw3foUgLvSe3A8/view?usp=sharing

Reference Dataset : https://www.dropbox.com/s/ep8qjakfwh1rzk4/malimg_dataset.zip?dl=0

**Modifications**

    1) Additional Convolutional and MaxPooling Layers Added and Custom Tuned Model
    2) Conversion of files to Grayscale image using OpenCV
    3) Avoided files from being classified wrongly when hash values are pigeon-holed
    4) Hence found MD5 hashes along with SHA1 hash values


****Reference****

[1] Chebbi, Chiheb. Mastering Machine Learning for Penetration Testing: Develop an extensive skill set to break self-learning systems using Python . Packt Publishing. Kindle Edition.Malware Detection with API Calls and PE Headers.Convolutional Neural Networks (CNNs) P.1243
https://github.com/PacktPublishing/Mastering-Machine-Learning-for-Penetration-Testing/blob/master/Chapter04/CNN.py

[2] Python program to find hash of a file
 https://www.programiz.com/python-programming/examples/hash-file

[3] Converting executable file to grayscale image
https://stackoverflow.com/questions/60193896/convert-file-into-grayscale-image

[4] virus_total_api,blacktop
https://github.com/blacktop/virustotal-api.git

[5] Making modern GUIs with Python and ElectronJS https://www.youtube.com/watch?v=627VBkAhKTc

[6] python-shell documentation https://www.npmjs.com/package/python-shell


****How to Run****

**Mandatory Step :**

    pip3 install -r requirements.txt


**Method 1 :**

    step 1 : git clone https://gitlab.com/Bl4ckh4t/2020_csa5_malware_detection_using_machine_learining_and_osint.git

    step 2 : cd 2020_csa5_malware_detection_using_machine_learining_and_osint

    step 3 : pip3 install -r requirements.txt ( if not already done )

    step 4 : npm install

    step 5 : npm start


_**Note :**_

Only Supported untill python3.8 (python3.9 not Supported currently)

if the application doesn't work consider turning developer tools (in main.js file) and most probably it would be a python path issue,
which can be edited inside the renderer.js file

    python path :

    Windows : C:\Users\'your_username'\AppData\Local\Programs\Python\Python38

    Linux   : /usr/bin/python3 or /usr/local/bin/python3

    MacOS   : /usr/local/bin/python3 or /usr/bin/python3



****Note :**** To install all dependencies run :

       pip3 install -r requirements.txt
       
       npm install

       If on receiving error "SUID sandbox was found, but is not configured correctly" navigate to node_modules/electron/dist and run :

       sudo chown root:root chrome-sandbox
       sudo chmod 4755 chrome-sandbox

****SCREENSHOT****

![Screenshot 2021-02-13 at 10 40 38 AM](https://user-images.githubusercontent.com/69065994/107842428-072b0700-6de9-11eb-8def-d9583f7fc58d.png)
